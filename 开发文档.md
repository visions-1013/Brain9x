# Brain9x - å¤§è„‘è®­ç»ƒæ•°ç‹¬æ¸¸æˆ

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€è®¾è®¡ç²¾ç¾çš„Webæ•°ç‹¬æ¸¸æˆï¼Œä½¿ç”¨çº¯åŸç”ŸHTML/CSS/JavaScriptå¼€å‘ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [æ–‡ä»¶ç»“æ„](#æ–‡ä»¶ç»“æ„)
- [å¦‚ä½•è¿è¡Œ](#å¦‚ä½•è¿è¡Œ)
- [æ ¸å¿ƒå®ç°æ€è·¯](#æ ¸å¿ƒå®ç°æ€è·¯)
  - [æ•°ç‹¬ç”Ÿæˆç®—æ³•](#æ•°ç‹¬ç”Ÿæˆç®—æ³•)
  - [æ¸¸æˆé€»è¾‘](#æ¸¸æˆé€»è¾‘)
  - [UIäº¤äº’](#uiäº¤äº’)
  - [æœ¬åœ°å­˜å‚¨](#æœ¬åœ°å­˜å‚¨)
  - [è®¾ç½®ç®¡ç†](#è®¾ç½®ç®¡ç†)
- [ä»£ç è¯¦ç»†è®²è§£](#ä»£ç è¯¦ç»†è®²è§£)
- [æ‰©å±•å»ºè®®](#æ‰©å±•å»ºè®®)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ® é¡¹ç›®æ¦‚è¿°

Brain9x æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ•°ç‹¬æ¸¸æˆWebåº”ç”¨ï¼Œæ—¨åœ¨é€šè¿‡ç»å…¸çš„9x9æ•°ç‹¬è°œé¢˜è®­ç»ƒç©å®¶çš„å¤§è„‘æ€ç»´èƒ½åŠ›ã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šè¯¦ç»†ï¼Œéå¸¸é€‚åˆå­¦ä¹ Webå¼€å‘ã€‚

### ä¸»è¦ç‰¹ç‚¹

- âœ… **çº¯åŸç”Ÿå¼€å‘**ï¼šæ— æ¡†æ¶ä¾èµ–ï¼Œä½¿ç”¨åŸç”ŸHTML/CSS/JavaScript
- âœ… **ç®—æ³•ç”Ÿæˆ**ï¼šä½¿ç”¨å›æº¯ç®—æ³•å®æ—¶ç”Ÿæˆæ•°ç‹¬ï¼Œä¿è¯å”¯ä¸€è§£
- âœ… **åŠŸèƒ½å®Œæ•´**ï¼šåŒ…å«ç¬”è®°æ¨¡å¼ã€æ’¤é”€é‡åšã€æç¤ºã€é”™è¯¯æ£€æŸ¥ç­‰
- âœ… **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- âœ… **ç°ä»£åŒ–UI**ï¼šæµç•…çš„åŠ¨ç”»æ•ˆæœã€æ·±è‰²æ¨¡å¼æ”¯æŒ
- âœ… **æœ¬åœ°å­˜å‚¨**ï¼šè‡ªåŠ¨ä¿å­˜è¿›åº¦ï¼Œè®°å½•å†å²æˆç»©
- âœ… **è¯¦ç»†æ³¨é‡Š**ï¼šæ¯ä¸ªå‡½æ•°éƒ½æœ‰æ¸…æ™°çš„æ³¨é‡Šè¯´æ˜

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- **ä¸‰ç§éš¾åº¦**ï¼šç®€å•ã€ä¸­ç­‰ã€å›°éš¾
- **æ•°ç‹¬ç”Ÿæˆ**ï¼šç®—æ³•å®æ—¶ç”Ÿæˆï¼Œæ¯æ¬¡éƒ½æ˜¯æ–°è°œé¢˜
- **å”¯ä¸€è§£éªŒè¯**ï¼šç¡®ä¿æ¯ä¸ªæ•°ç‹¬åªæœ‰ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ
- **è®¡æ—¶å™¨**ï¼šè®°å½•æ¸¸æˆæ—¶é—´
- **æš‚åœ/ç»§ç»­**ï¼šéšæ—¶æš‚åœæ¸¸æˆ

### è¾…åŠ©åŠŸèƒ½

- **ç¬”è®°æ¨¡å¼**ï¼šæ ‡è®°å€™é€‰æ•°å­—ï¼ˆ1-9ï¼‰
- **æç¤ºåŠŸèƒ½**ï¼šéšæœºå¡«å…¥ä¸€ä¸ªæ­£ç¡®æ•°å­—
- **æ’¤é”€/é‡åš**ï¼šæ”¯æŒå¤šæ­¥æ’¤é”€å’Œé‡åš
- **é”™è¯¯æ£€æŸ¥**ï¼š
  - æäº¤æ£€æŸ¥æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼šç‚¹å‡»æ£€æŸ¥æŒ‰é’®åéªŒè¯
  - å®æ—¶æ£€æŸ¥æ¨¡å¼ï¼šå¡«å…¥æ•°å­—åç«‹å³éªŒè¯

### æ•°æ®ç®¡ç†

- **è‡ªåŠ¨ä¿å­˜**ï¼šæ¸¸æˆè¿›åº¦è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°
- **å†å²è®°å½•**ï¼šè®°å½•å®Œæˆçš„æ¸¸æˆå†å²ï¼ˆæœ€å¤š50æ¡ï¼‰
- **æœ€ä½³æˆç»©**ï¼šæŒ‰éš¾åº¦è®°å½•æœ€ä½³å®Œæˆæ—¶é—´

### ç”¨æˆ·ä½“éªŒ

- **é”®ç›˜å¿«æ·é”®**ï¼š
  - `â†‘â†“â†â†’` - ç§»åŠ¨é€‰ä¸­æ ¼å­
  - `1-9` - è¾“å…¥æ•°å­—
  - `Delete/Backspace` - åˆ é™¤æ•°å­—
  - `N` - åˆ‡æ¢ç¬”è®°æ¨¡å¼
  - `H` - æç¤º
  - `Ctrl+Z` - æ’¤é”€
  - `Ctrl+Y` - é‡åš
  - `Space` - æš‚åœ/ç»§ç»­
  - `Esc` - å–æ¶ˆé€‰ä¸­
- **æ·±è‰²æ¨¡å¼**ï¼šæŠ¤çœ¼æ·±è‰²ä¸»é¢˜
- **å“åº”å¼å¸ƒå±€**ï¼šé€‚é…æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘
- **æµç•…åŠ¨ç”»**ï¼šæŒ‰é’®æ‚¬åœã€æ ¼å­é€‰ä¸­ã€èƒœåˆ©åŠ¨ç”»ç­‰

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **HTML5**ï¼šé¡µé¢ç»“æ„
- **CSS3**ï¼šæ ·å¼è®¾è®¡ã€åŠ¨ç”»æ•ˆæœã€å“åº”å¼å¸ƒå±€
- **JavaScript ES6+**ï¼šæ¸¸æˆé€»è¾‘ã€ç®—æ³•å®ç°
- **Font Awesome**ï¼šå›¾æ ‡åº“ï¼ˆCDNå¼•å…¥ï¼‰
- **LocalStorage API**ï¼šæœ¬åœ°æ•°æ®å­˜å‚¨

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
Brain9x/
â”œâ”€â”€ index.html          # ä¸»HTMLæ–‡ä»¶
â”œâ”€â”€ README.md           # é¡¹ç›®æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ css/
â”‚   â””â”€â”€ style.css       # æ ·å¼æ–‡ä»¶
â””â”€â”€ js/
    â”œâ”€â”€ main.js         # ä¸»å…¥å£æ–‡ä»¶
    â”œâ”€â”€ generator.js    # æ•°ç‹¬ç”Ÿæˆç®—æ³•æ¨¡å—
    â”œâ”€â”€ game.js         # æ¸¸æˆæ ¸å¿ƒé€»è¾‘æ¨¡å—
    â”œâ”€â”€ ui.js           # UIäº¤äº’æ¨¡å—
    â”œâ”€â”€ storage.js      # æœ¬åœ°å­˜å‚¨æ¨¡å—
    â””â”€â”€ settings.js     # è®¾ç½®ç®¡ç†æ¨¡å—
```

### æ–‡ä»¶è¯´æ˜

#### `index.html`
é¡µé¢çš„HTMLç»“æ„ï¼ŒåŒ…å«ï¼š
- æ¸¸æˆæ£‹ç›˜åŒºåŸŸ
- æ•°å­—æŒ‰é’®ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰
- æ§åˆ¶æŒ‰é’®ï¼ˆæ–°æ¸¸æˆã€æš‚åœã€æç¤ºç­‰ï¼‰
- å„ç§æ¨¡æ€æ¡†ï¼ˆæ–°æ¸¸æˆã€è®¾ç½®ã€å†å²è®°å½•ã€èƒœåˆ©ï¼‰
- å¼•å…¥æ‰€æœ‰CSSå’ŒJavaScriptæ–‡ä»¶

#### `css/style.css`
æ‰€æœ‰æ ·å¼å®šä¹‰ï¼ŒåŒ…å«ï¼š
- CSSå˜é‡ï¼ˆä¸»é¢˜é¢œè‰²ã€å­—ä½“ã€åŠ¨ç”»æ—¶é•¿ï¼‰
- æ·±è‰²æ¨¡å¼æ ·å¼
- å“åº”å¼è®¾è®¡ï¼ˆåª’ä½“æŸ¥è¯¢ï¼‰
- åŠ¨ç”»æ•ˆæœï¼ˆæ·¡å…¥ã€æŠ–åŠ¨ã€å¼¹è·³ç­‰ï¼‰

#### `js/main.js`
åº”ç”¨çš„ä¸»å…¥å£ï¼Œè´Ÿè´£ï¼š
- åˆå§‹åŒ–æ‰€æœ‰æ¨¡å—
- æ£€æŸ¥æ˜¯å¦æœ‰ä¿å­˜çš„æ¸¸æˆ
- é¡µé¢å¸è½½å‰è‡ªåŠ¨ä¿å­˜

#### `js/generator.js`
æ•°ç‹¬ç”Ÿæˆå™¨æ¨¡å—ï¼Œå®ç°ï¼š
- å›æº¯ç®—æ³•ç”Ÿæˆå®Œæ•´æ•°ç‹¬
- æŒ–æ´ç®—æ³•ç”Ÿæˆè°œé¢˜
- å”¯ä¸€è§£éªŒè¯
- æ•°ç‹¬åˆæ³•æ€§æ£€æŸ¥

#### `js/game.js`
æ¸¸æˆæ ¸å¿ƒé€»è¾‘æ¨¡å—ï¼Œç®¡ç†ï¼š
- æ¸¸æˆçŠ¶æ€ï¼ˆæ£‹ç›˜ã€ç¬”è®°ã€æ’¤é”€æ ˆç­‰ï¼‰
- ç”¨æˆ·è¾“å…¥å¤„ç†ï¼ˆå¡«æ•°å­—ã€åˆ é™¤ã€ç¬”è®°ï¼‰
- æ¸¸æˆè§„åˆ™éªŒè¯
- èƒœåˆ©æ¡ä»¶æ£€æŸ¥

#### `js/ui.js`
UIäº¤äº’æ¨¡å—ï¼Œå¤„ç†ï¼š
- ç•Œé¢æ¸²æŸ“å’Œæ›´æ–°
- äº‹ä»¶ç›‘å¬ï¼ˆç‚¹å‡»ã€é”®ç›˜ï¼‰
- æ¨¡æ€æ¡†æ˜¾ç¤º/éšè—
- åŠ¨ç”»æ•ˆæœè§¦å‘
- è®¡æ—¶å™¨ç®¡ç†

#### `js/storage.js`
æœ¬åœ°å­˜å‚¨æ¨¡å—ï¼Œè´Ÿè´£ï¼š
- ä¿å­˜/åŠ è½½æ¸¸æˆè¿›åº¦
- ç®¡ç†å†å²è®°å½•
- è®°å½•æœ€ä½³æˆç»©

#### `js/settings.js`
è®¾ç½®ç®¡ç†æ¨¡å—ï¼Œå¤„ç†ï¼š
- é”™è¯¯æ£€æŸ¥æ¨¡å¼åˆ‡æ¢
- æ·±è‰²æ¨¡å¼åˆ‡æ¢
- è®¾ç½®çš„ä¿å­˜å’ŒåŠ è½½

---

## ğŸš€ å¦‚ä½•è¿è¡Œ

### æ–¹æ³•1ï¼šç›´æ¥æ‰“å¼€ï¼ˆæ¨èï¼‰

1. ä¸‹è½½æ•´ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹
2. åŒå‡» `index.html` æ–‡ä»¶
3. æ¸¸æˆåœ¨æµè§ˆå™¨ä¸­è‡ªåŠ¨æ‰“å¼€

**æ”¯æŒçš„æµè§ˆå™¨**ï¼šChromeã€Firefoxã€Safariã€Edgeï¼ˆæ¨èä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼‰

### æ–¹æ³•2ï¼šä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ å®‰è£…äº†Pythonï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd Desktop/Brain9x

# Python 3
python -m http.server 8000

# æˆ– Python 2
python -m SimpleHTTPServer 8000
```

ç„¶ååœ¨æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8000`

### æ–¹æ³•3ï¼šä½¿ç”¨VS Code Live Serverï¼ˆæ¨èå¼€å‘æ—¶ä½¿ç”¨ï¼‰

1. åœ¨VS Codeä¸­æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹
2. å®‰è£… "Live Server" æ‰©å±•
3. å³é”® `index.html` â†’ "Open with Live Server"

---

## ğŸ’¡ æ ¸å¿ƒå®ç°æ€è·¯

### æ•°ç‹¬ç”Ÿæˆç®—æ³•

æ•°ç‹¬ç”Ÿæˆæ˜¯æ•´ä¸ªé¡¹ç›®çš„æ ¸å¿ƒï¼Œæˆ‘ä»¬ä½¿ç”¨**å›æº¯ç®—æ³•**æ¥ç”Ÿæˆæ•°ç‹¬ã€‚

#### ä¸ºä»€ä¹ˆé€‰æ‹©å›æº¯ç®—æ³•ï¼Ÿ

- å›æº¯ç®—æ³•æ˜¯ä¸€ç§é€šè¿‡ç©·ä¸¾æ‰€æœ‰å¯èƒ½æƒ…å†µæ¥æ‰¾åˆ°è§£å†³æ–¹æ¡ˆçš„ç®—æ³•
- å¯¹äºæ•°ç‹¬è¿™ç§çº¦æŸæ»¡è¶³é—®é¢˜éå¸¸æœ‰æ•ˆ
- èƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆå®Œæ•´çš„æ•°ç‹¬è§£

#### ç”Ÿæˆæ­¥éª¤

**ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆå®Œæ•´çš„æ•°ç‹¬è§£**

1. åˆ›å»ºä¸€ä¸ªç©ºçš„9x9æ£‹ç›˜ï¼ˆæ‰€æœ‰æ ¼å­éƒ½æ˜¯0ï¼‰
2. éšæœºå¡«å……å¯¹è§’çº¿ä¸Šçš„ä¸‰ä¸ª3x3å®«æ ¼
   - è¿™ä¸‰ä¸ªå®«æ ¼ç›¸äº’ç‹¬ç«‹ï¼Œä¸ä¼šå†²çª
   - ä¾‹å¦‚ï¼šå·¦ä¸Š(0,0)ã€ä¸­é—´(3,3)ã€å³ä¸‹(6,6)
3. ä½¿ç”¨å›æº¯ç®—æ³•å¡«å……å‰©ä½™çš„æ ¼å­ï¼š
   - ä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹éå†æ¯ä¸ªæ ¼å­
   - å¯¹äºæ¯ä¸ªç©ºæ ¼å­ï¼Œå°è¯•å¡«å…¥1-9çš„æ•°å­—
   - æ£€æŸ¥å¡«å…¥çš„æ•°å­—æ˜¯å¦åˆæ³•ï¼ˆä¸ä¸åŒè¡Œã€åŒåˆ—ã€åŒå®«æ ¼çš„æ•°å­—å†²çªï¼‰
   - å¦‚æœåˆæ³•ï¼Œå¡«å…¥å¹¶é€’å½’å¤„ç†ä¸‹ä¸€ä¸ªæ ¼å­
   - å¦‚æœåç»­å‘ç°æ— æ³•ç»§ç»­ï¼Œå›æº¯ï¼ˆæ’¤é”€å½“å‰å¡«å…¥ï¼Œå°è¯•ä¸‹ä¸€ä¸ªæ•°å­—ï¼‰
4. å½“æ‰€æœ‰æ ¼å­éƒ½å¡«æ»¡æ—¶ï¼Œå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„æ•°ç‹¬è§£

**ç¬¬äºŒæ­¥ï¼šæŒ–æ´ç”Ÿæˆè°œé¢˜**

1. æ ¹æ®éš¾åº¦å†³å®šä¿ç•™å¤šå°‘ä¸ªæ•°å­—ï¼š
   - ç®€å•ï¼šä¿ç•™35-40ä¸ªæ•°å­—
   - ä¸­ç­‰ï¼šä¿ç•™30-34ä¸ªæ•°å­—
   - å›°éš¾ï¼šä¿ç•™25-29ä¸ªæ•°å­—
2. éšæœºé€‰æ‹©æ ¼å­æŒ–ç©ºï¼ˆè®¾ç½®ä¸º0ï¼‰
3. **å…³é”®**ï¼šæ¯æ¬¡æŒ–ç©ºåï¼ŒéªŒè¯æ˜¯å¦ä»ç„¶æœ‰å”¯ä¸€è§£
   - å¦‚æœå”¯ä¸€è§£è¢«ç ´åï¼Œæ¢å¤è¿™ä¸ªæ ¼å­çš„æ•°å­—
   - å¦‚æœä»ç„¶æœ‰å”¯ä¸€è§£ï¼Œä¿æŒæŒ–ç©º
4. é‡å¤ç›´åˆ°æŒ–æ‰æŒ‡å®šæ•°é‡çš„æ•°å­—

**ç¬¬ä¸‰æ­¥ï¼šå”¯ä¸€è§£éªŒè¯**

ä¸ºä»€ä¹ˆè¦éªŒè¯å”¯ä¸€è§£ï¼Ÿ
- æ•°ç‹¬çš„è§„åˆ™æ˜¯åªæœ‰ä¸€ä¸ªæ­£ç¡®ç­”æ¡ˆ
- å¦‚æœæœ‰å¤šä¸ªè§£ï¼Œç©å®¶æ— æ³•ç¡®å®šå“ªä¸ªæ˜¯æ­£ç¡®çš„
- æ•°å­¦è¯æ˜ï¼šè‡³å°‘éœ€è¦17ä¸ªæ•°å­—æ‰èƒ½ä¿è¯å”¯ä¸€è§£

éªŒè¯æ–¹æ³•ï¼š
1. å¤åˆ¶å½“å‰æ£‹ç›˜
2. ä½¿ç”¨å›æº¯ç®—æ³•è®¡ç®—è§£çš„æ•°é‡
3. å¦‚æœè§£çš„æ•°é‡>1ï¼Œè¯´æ˜ä¸å”¯ä¸€

#### ä»£ç å®ç°ï¼ˆgenerator.jsï¼‰

```javascript
// 1. æ£€æŸ¥æ•°å­—æ˜¯å¦åˆæ³•
function isValid(board, row, col, num) {
    // æ£€æŸ¥è¡Œã€åˆ—ã€3x3å®«æ ¼
    // å¦‚æœæ²¡æœ‰å†²çªï¼Œè¿”å›true
}

// 2. å›æº¯ç®—æ³•å¡«å……
function solve(board) {
    // éå†æ¯ä¸ªæ ¼å­
    // å¦‚æœæ˜¯ç©ºæ ¼å­ï¼Œå°è¯•å¡«å…¥1-9
    // é€’å½’è°ƒç”¨ï¼Œå¦‚æœå¤±è´¥åˆ™å›æº¯
}

// 3. ç”Ÿæˆå®Œæ•´æ•°ç‹¬
function generateFullBoard() {
    // å¡«å……å¯¹è§’çº¿çš„ä¸‰ä¸ª3x3å®«æ ¼
    // ä½¿ç”¨å›æº¯ç®—æ³•å¡«å……å‰©ä½™éƒ¨åˆ†
}

// 4. æŒ–æ´ç”Ÿæˆè°œé¢˜
function pokeHoles(board, difficulty) {
    // æ ¹æ®éš¾åº¦å†³å®šæŒ–æ‰å¤šå°‘æ•°å­—
    // éšæœºæŒ–æ´å¹¶éªŒè¯å”¯ä¸€è§£
}
```

### æ¸¸æˆé€»è¾‘

æ¸¸æˆé€»è¾‘æ¨¡å—è´Ÿè´£ç®¡ç†æ¸¸æˆçŠ¶æ€å’Œå¤„ç†ç”¨æˆ·æ“ä½œã€‚

#### æ¸¸æˆçŠ¶æ€ç»“æ„

```javascript
gameState = {
    puzzle: [],        // åŸå§‹è°œé¢˜ï¼ˆå›ºå®šçš„æ•°å­—ï¼‰
    playerBoard: [],  // ç©å®¶å½“å‰çš„æ£‹ç›˜
    solution: [],     // å®Œæ•´è§£ç­”ï¼ˆç”¨äºéªŒè¯ï¼‰
    difficulty: '',   // éš¾åº¦ç­‰çº§
    isPaused: false,  // æ˜¯å¦æš‚åœ
    isCompleted: false, // æ˜¯å¦å®Œæˆ
    noteMode: false,  // ç¬”è®°æ¨¡å¼æ˜¯å¦å¼€å¯
    selectedCell: null, // å½“å‰é€‰ä¸­çš„æ ¼å­ {row, col}
    notes: [],        // æ¯ä¸ªæ ¼å­çš„ç¬”è®° [[], [], ...]
    undoStack: [],    // æ’¤é”€æ ˆ
    redoStack: []     // é‡åšæ ˆ
}
```

#### æ ¸å¿ƒåŠŸèƒ½å®ç°

**1. é€‰ä¸­æ ¼å­**

ç©å®¶ç‚¹å‡»æ ¼å­æ—¶ï¼š
- æ›´æ–° `selectedCell` ä¸º `{row, col}`
- é«˜äº®æ˜¾ç¤ºé€‰ä¸­çš„æ ¼å­
- é«˜äº®æ˜¾ç¤ºç›¸å…³æ ¼å­ï¼ˆåŒè¡Œã€åŒåˆ—ã€åŒå®«æ ¼ï¼‰

**2. å¡«å…¥æ•°å­—**

æƒ…å†µAï¼šæ™®é€šæ¨¡å¼
- ä¿å­˜å½“å‰æ“ä½œåˆ°æ’¤é”€æ ˆ
- æ¸…ç©ºé‡åšæ ˆï¼ˆæ–°æ“ä½œä¼šæ¸…é™¤é‡åšå†å²ï¼‰
- æ›´æ–° `playerBoard`
- æ¸…ç©ºè¯¥æ ¼å­çš„ç¬”è®°
- æ£€æŸ¥æ¸¸æˆæ˜¯å¦å®Œæˆ

æƒ…å†µBï¼šç¬”è®°æ¨¡å¼
- åˆ‡æ¢ç¬”è®°ä¸­çš„å€™é€‰æ•°å­—
- å¦‚æœæ•°å­—å·²å­˜åœ¨ï¼Œç§»é™¤ï¼›å¦åˆ™æ·»åŠ 
- ä¸å½±å“æ’¤é”€æ ˆ

**3. åˆ é™¤æ•°å­—**

- å¦‚æœæ˜¯å›ºå®šæ•°å­—ï¼ˆé¢˜ç›®ç»™å®šçš„ï¼‰ï¼Œä¸å…è®¸åˆ é™¤
- ä¿å­˜æ“ä½œåˆ°æ’¤é”€æ ˆ
- å°†æ ¼å­è®¾ç½®ä¸º0ï¼ˆç©ºï¼‰

**4. ç¬”è®°æ¨¡å¼**

ç¬”è®°æ¨¡å¼ç”¨äºæ ‡è®°å€™é€‰æ•°å­—ï¼š
- åœ¨çº¸ä¸Šç©æ•°ç‹¬æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨æ ¼å­é‡Œå†™ä¸‹å¯èƒ½çš„æ•°å­—
- åœ¨æ¸¸æˆä¸­ï¼Œç‚¹å‡»"ç¬”è®°æ¨¡å¼"æŒ‰é’®åï¼Œå¡«å…¥çš„æ•°å­—ä¼šä½œä¸ºå°æ ‡è®°æ˜¾ç¤º
- ä¸€ä¸ªæ ¼å­å¯ä»¥æ ‡è®°å¤šä¸ªå€™é€‰æ•°å­—ï¼ˆ1-9ï¼‰

**5. æ’¤é”€/é‡åš**

ä½¿ç”¨æ ˆç»“æ„å®ç°ï¼š
- `undoStack`: ä¿å­˜å¯ä»¥æ’¤é”€çš„æ“ä½œ
- `redoStack`: ä¿å­˜å¯ä»¥é‡åšçš„æ“ä½œ
- æ¯æ¬¡æ–°æ“ä½œæ—¶ï¼Œæ¸…ç©º `redoStack`
- æ’¤é”€æ—¶ï¼Œä» `undoStack` å¼¹å‡ºæ“ä½œï¼Œæ‰§è¡Œåå‘æ“ä½œï¼Œå¹¶æ¨å…¥ `redoStack`

**6. æç¤ºåŠŸèƒ½**

- æ‰¾å‡ºæ‰€æœ‰ç©ºæ ¼å­
- éšæœºé€‰æ‹©ä¸€ä¸ª
- å¡«å…¥æ­£ç¡®æ•°å­—ï¼ˆä» `solution` è·å–ï¼‰
- ä¿å­˜åˆ°æ’¤é”€æ ˆ

**7. æ£€æŸ¥ç­”æ¡ˆ**

éå†æ‰€æœ‰å·²å¡«å…¥çš„æ•°å­—ï¼Œä¸ `solution` å¯¹æ¯”ï¼š
- å¦‚æœå…¨éƒ¨æ­£ç¡®ï¼Œè¿”å›æˆåŠŸ
- å¦‚æœæœ‰é”™è¯¯ï¼Œè¿”å›é”™è¯¯æ ¼å­çš„ä½ç½®ï¼ˆç”¨äºæ ‡çº¢ï¼‰

**8. èƒœåˆ©æ¡ä»¶**

- æ‰€æœ‰æ ¼å­éƒ½å·²å¡«å…¥ï¼ˆæ²¡æœ‰0ï¼‰
- æ‰€æœ‰æ•°å­—éƒ½æ­£ç¡®
- æ»¡è¶³æ¡ä»¶æ—¶è§¦å‘èƒœåˆ©åŠ¨ç”»

#### ä»£ç å®ç°ï¼ˆgame.jsï¼‰

```javascript
// é€‰ä¸­æ ¼å­
function selectCell(row, col) {
    gameState.selectedCell = { row, col };
}

// å¡«å…¥æ•°å­—
function fillNumber(num) {
    if (noteMode) {
        // ç¬”è®°æ¨¡å¼ï¼šåˆ‡æ¢å€™é€‰æ•°å­—
        toggleNote(num);
    } else {
        // æ™®é€šæ¨¡å¼ï¼šå¡«å…¥æ•°å­—
        saveToUndoStack();
        playerBoard[row][col] = num;
        checkCompletion();
    }
}

// æ’¤é”€
function undo() {
    const action = undoStack.pop();
    // æ‰§è¡Œåå‘æ“ä½œ
    playerBoard[action.row][action.col] = action.oldValue;
}
```

### UIäº¤äº’

UIæ¨¡å—è´Ÿè´£ç•Œé¢æ¸²æŸ“å’Œäº‹ä»¶å¤„ç†ã€‚

#### ç•Œé¢æ¸²æŸ“

**1. æ£‹ç›˜æ¸²æŸ“**

- ä½¿ç”¨CSS Gridåˆ›å»º9x9ç½‘æ ¼
- éå† `playerBoard`ï¼Œä¸ºæ¯ä¸ªæ ¼å­åˆ›å»ºdivå…ƒç´ 
- æ ¹æ®æ ¼å­çŠ¶æ€æ·»åŠ CSSç±»ï¼š
  - `.fixed` - å›ºå®šæ•°å­—ï¼ˆé¢˜ç›®ç»™å®šçš„ï¼‰
  - `.selected` - å½“å‰é€‰ä¸­
  - `.related` - ç›¸å…³æ ¼å­ï¼ˆåŒè¡Œã€åŒåˆ—ã€åŒå®«æ ¼ï¼‰
  - `.error` - é”™è¯¯çš„æ•°å­—
  - `.hint` - æç¤ºå¡«å…¥çš„æ•°å­—

**2. ç¬”è®°æ˜¾ç¤º**

æ¯ä¸ªæ ¼å­å†…éƒ¨å¯ä»¥åŒ…å«ä¸€ä¸ª3x3çš„å°ç½‘æ ¼ï¼Œæ˜¾ç¤ºå€™é€‰æ•°å­—ï¼š
```
æ ¼å­å†…éƒ¨ï¼š
1 2 3
4 5 6
7 8 9
```
å¦‚æœæŸä¸ªæ•°å­—è¢«æ ‡è®°ä¸ºå€™é€‰ï¼Œå°±æ˜¾ç¤ºï¼›å¦åˆ™ç©ºç™½

**3. åŠ¨ç”»æ•ˆæœ**

- `.selected` - æ”¾å¤§æ•ˆæœï¼ˆscale(1.05)ï¼‰
- `.error` - æŠ–åŠ¨åŠ¨ç”»ï¼ˆshakeï¼‰
- `.hint` - è„‰å†²åŠ¨ç”»ï¼ˆpulseï¼‰
- èƒœåˆ©æ—¶ - å¥–æ¯å›¾æ ‡å¼¹è·³ï¼ˆbounceï¼‰

#### äº‹ä»¶å¤„ç†

**1. é¼ æ ‡äº‹ä»¶**

- ç‚¹å‡»æ ¼å­ï¼šé€‰ä¸­
- ç‚¹å‡»æ•°å­—æŒ‰é’®ï¼šå¡«å…¥æ•°å­—
- ç‚¹å‡»æ§åˆ¶æŒ‰é’®ï¼šæ‰§è¡Œç›¸åº”åŠŸèƒ½

**2. é”®ç›˜äº‹ä»¶**

- ç›‘å¬å…¨å±€ `keydown` äº‹ä»¶
- æ ¹æ®æŒ‰é”®ç±»å‹æ‰§è¡Œæ“ä½œï¼š
  - æ–¹å‘é”®ï¼šç§»åŠ¨é€‰ä¸­æ ¼å­
  - æ•°å­—é”®ï¼šå¡«å…¥æ•°å­—
  - Deleteï¼šåˆ é™¤
  - Né”®ï¼šåˆ‡æ¢ç¬”è®°æ¨¡å¼
  - Hé”®ï¼šæç¤º
  - Ctrl+Z/Yï¼šæ’¤é”€/é‡åš
  - Spaceï¼šæš‚åœ
  - Escï¼šå–æ¶ˆé€‰ä¸­

**3. æ¨¡æ€æ¡†ç®¡ç†**

æ¯ä¸ªæ¨¡æ€æ¡†éƒ½æœ‰ï¼š
- `.modal` - é®ç½©å±‚ï¼ˆåŠé€æ˜é»‘è‰²èƒŒæ™¯ï¼‰
- `.modal-content` - å†…å®¹åŒºåŸŸ
- æ˜¾ç¤ºæ—¶æ·»åŠ  `.active` ç±»
- ç‚¹å‡»é®ç½©å±‚æˆ–å…³é—­æŒ‰é’®éšè—

**4. è®¡æ—¶å™¨**

ä½¿ç”¨ `setInterval` æ¯ç§’æ›´æ–°ï¼š
```javascript
setInterval(() => {
    seconds++;
    updateTimerDisplay();
}, 1000);
```

#### ä»£ç å®ç°ï¼ˆui.jsï¼‰

```javascript
// æ¸²æŸ“æ£‹ç›˜
function renderBoard() {
    board.innerHTML = '';
    for (let row = 0; row < 9; row++) {
        for (let col = 0; col < 9; col++) {
            const cell = document.createElement('div');
            cell.className = 'cell';
            cell.textContent = getCellValue(row, col);
            // æ·»åŠ æ ·å¼ç±»...
            board.appendChild(cell);
        }
    }
}

// é”®ç›˜äº‹ä»¶
document.addEventListener('keydown', (e) => {
    switch (e.key) {
        case 'ArrowUp': moveSelection(-1, 0); break;
        case '1': fillNumber(1); break;
        // ...
    }
});
```

### æœ¬åœ°å­˜å‚¨

ä½¿ç”¨ `localStorage` API ä¿å­˜æ•°æ®åˆ°æµè§ˆå™¨ã€‚

#### æ•°æ®ç»“æ„

**1. ä¿å­˜çš„æ¸¸æˆ**
```json
{
    "puzzle": [æ•°ç»„81ä¸ªæ•°å­—],
    "playerBoard": [æ•°ç»„81ä¸ªæ•°å­—],
    "solution": [æ•°ç»„81ä¸ªæ•°å­—],
    "difficulty": "easy",
    "notes": [äºŒç»´æ•°ç»„],
    "timeSpent": 123,
    "savedAt": "2024-01-15T10:30:00.000Z"
}
```

**2. æ¸¸æˆå†å²**
```json
[
    {
        "difficulty": "easy",
        "timeSpent": 123,
        "date": "2024-01-15T10:30:00.000Z"
    },
    // ...æ›´å¤šè®°å½•ï¼ˆæœ€å¤š50æ¡ï¼‰
]
```

**3. æœ€ä½³æˆç»©**
```json
{
    "easy": 120,
    "medium": 180,
    "hard": 300
}
```

#### å­˜å‚¨ç­–ç•¥

- **æ¸¸æˆè¿›åº¦**ï¼šè‡ªåŠ¨ä¿å­˜ï¼Œé¡µé¢åˆ·æ–°åå¯ç»§ç»­
- **å†å²è®°å½•**ï¼šæ¯æ¬¡å®Œæˆæ¸¸æˆåæ·»åŠ 
- **æœ€ä½³æˆç»©**ï¼šå®Œæˆæ¸¸æˆåæ›´æ–°ï¼ˆåªä¿ç•™æœ€å¥½æˆç»©ï¼‰
- **è¿‡æœŸæ¸…ç†**ï¼šä¿å­˜çš„æ¸¸æˆè¶…è¿‡7å¤©è‡ªåŠ¨åˆ é™¤

#### ä»£ç å®ç°ï¼ˆstorage.jsï¼‰

```javascript
// ä¿å­˜æ¸¸æˆ
function saveGame(gameState) {
    gameState.savedAt = new Date().toISOString();
    localStorage.setItem('brain9x_saved_game', JSON.stringify(gameState));
}

// åŠ è½½æ¸¸æˆ
function loadGame() {
    const json = localStorage.getItem('brain9x_saved_game');
    if (json) {
        return JSON.parse(json);
    }
    return null;
}

// ä¿å­˜å†å²è®°å½•
function saveGameHistory(gameData) {
    let history = getGameHistory();
    history.push(gameData);
    history.sort((a, b) => new Date(b.date) - new Date(a.date));
    localStorage.setItem('brain9x_game_history', JSON.stringify(history));
}
```

### è®¾ç½®ç®¡ç†

ä¿å­˜ç”¨æˆ·çš„ä¸ªæ€§åŒ–è®¾ç½®ã€‚

#### è®¾ç½®é¡¹

- `errorCheckMode`: é”™è¯¯æ£€æŸ¥æ¨¡å¼ï¼ˆ'manual' | 'realtime'ï¼‰
- `darkMode`: æ·±è‰²æ¨¡å¼ï¼ˆtrue | falseï¼‰
- `soundEnabled`: éŸ³æ•ˆå¼€å…³ï¼ˆé¢„ç•™ï¼ŒåæœŸæ‰©å±•ï¼‰
- `language`: è¯­è¨€ï¼ˆé¢„ç•™ï¼ŒåæœŸæ‰©å±•ï¼‰

#### ä»£ç å®ç°ï¼ˆsettings.jsï¼‰

```javascript
// è·å–è®¾ç½®ï¼ˆåˆå¹¶é»˜è®¤è®¾ç½®ï¼‰
function getSettings() {
    const saved = localStorage.getItem('brain9x_settings');
    return { ...DEFAULT_SETTINGS, ...JSON.parse(saved) };
}

// æ›´æ–°è®¾ç½®
function updateSettings(newSettings) {
    const current = getSettings();
    const updated = { ...current, ...newSettings };
    localStorage.setItem('brain9x_settings', JSON.stringify(updated));
}
```

---

## ğŸ“– ä»£ç è¯¦ç»†è®²è§£

### generator.js è¯¦è§£

#### 1. åˆ›å»ºç©ºæ£‹ç›˜

```javascript
function createEmptyBoard() {
    return Array(9).fill(null).map(() => Array(9).fill(0));
}
```

**è§£é‡Š**ï¼š
- `Array(9).fill(null)` - åˆ›å»ºé•¿åº¦ä¸º9çš„æ•°ç»„
- `.map(() => Array(9).fill(0))` - å°†æ¯ä¸ªå…ƒç´ æ›¿æ¢ä¸ºé•¿åº¦ä¸º9çš„æ•°ç»„ï¼Œå¡«å……0
- ç»“æœæ˜¯9x9çš„äºŒç»´æ•°ç»„ï¼Œæ‰€æœ‰æ ¼å­éƒ½æ˜¯0ï¼ˆç©ºï¼‰

**ä¸ºä»€ä¹ˆç”¨äºŒç»´æ•°ç»„ï¼Ÿ**
- æ•°ç‹¬æ£‹ç›˜æ˜¯äºŒç»´çš„ï¼ˆè¡Œå’Œåˆ—ï¼‰
- `board[row][col]` å¯ä»¥ç›´æ¥è®¿é—®æ ¼å­
- æ¯”ä¸€ç»´æ•°ç»„æ›´ç›´è§‚

#### 2. æ£€æŸ¥æ•°å­—æ˜¯å¦åˆæ³•

```javascript
function isValid(board, row, col, num) {
    // æ£€æŸ¥è¡Œ
    for (let x = 0; x < 9; x++) {
        if (board[row][x] === num) {
            return false;
        }
    }

    // æ£€æŸ¥åˆ—
    for (let x = 0; x < 9; x++) {
        if (board[x][col] === num) {
            return false;
        }
    }

    // æ£€æŸ¥3x3å®«æ ¼
    const startRow = Math.floor(row / 3) * 3;
    const startCol = Math.floor(col / 3) * 3;
    for (let i = 0; i < 3; i++) {
        for (let j = 0; j < 3; j++) {
            if (board[startRow + i][startCol + j] === num) {
                return false;
            }
        }
    }

    return true;
}
```

**è¯¦ç»†è§£é‡Š**ï¼š

**æ£€æŸ¥è¡Œ**ï¼š
- éå†ç¬¬ `row` è¡Œçš„æ‰€æœ‰åˆ—
- å¦‚æœå‘ç°ç›¸åŒçš„æ•°å­—ï¼Œè¿”å› `false`ï¼ˆä¸åˆæ³•ï¼‰

**æ£€æŸ¥åˆ—**ï¼š
- éå†ç¬¬ `col` åˆ—çš„æ‰€æœ‰è¡Œ
- å¦‚æœå‘ç°ç›¸åŒçš„æ•°å­—ï¼Œè¿”å› `false`

**æ£€æŸ¥3x3å®«æ ¼**ï¼š
- æ•°ç‹¬åˆ†ä¸º9ä¸ª3x3çš„å®«æ ¼
- `Math.floor(row / 3) * 3` è®¡ç®—å®«æ ¼çš„èµ·å§‹è¡Œï¼š
  - row 0,1,2 â†’ startRow 0
  - row 3,4,5 â†’ startRow 3
  - row 6,7,8 â†’ startRow 6
- åŒç†è®¡ç®—èµ·å§‹åˆ—
- éå†å®«æ ¼å†…çš„9ä¸ªæ ¼å­
- å¦‚æœå‘ç°ç›¸åŒæ•°å­—ï¼Œè¿”å› `false`

**ç¤ºä¾‹**ï¼š
```
å‡è®¾è¦åœ¨ (4, 5) ä½ç½®å¡«å…¥æ•°å­— 7

row = 4, col = 5

1. æ£€æŸ¥ç¬¬4è¡Œï¼š
   board[4][0], board[4][1], ..., board[4][8]
   å¦‚æœæœ‰7ï¼Œä¸åˆæ³•

2. æ£€æŸ¥ç¬¬5åˆ—ï¼š
   board[0][5], board[1][5], ..., board[8][5]
   å¦‚æœæœ‰7ï¼Œä¸åˆæ³•

3. æ£€æŸ¥å®«æ ¼ï¼š
   startRow = Math.floor(4/3) * 3 = 1 * 3 = 3
   startCol = Math.floor(5/3) * 3 = 1 * 3 = 3
   æ£€æŸ¥ board[3][3] åˆ° board[5][5] çš„9ä¸ªæ ¼å­
   å¦‚æœæœ‰7ï¼Œä¸åˆæ³•
```

#### 3. å›æº¯ç®—æ³•æ±‚è§£

```javascript
function solve(board) {
    for (let row = 0; row < 9; row++) {
        for (let col = 0; col < 9; col++) {
            // æ‰¾åˆ°ç©ºæ ¼å­ï¼ˆå€¼ä¸º0ï¼‰
            if (board[row][col] === 0) {
                // å°è¯•å¡«å…¥1-9çš„æ•°å­—
                for (let num = 1; num <= 9; num++) {
                    if (isValid(board, row, col, num)) {
                        board[row][col] = num;

                        // é€’å½’å°è¯•è§£å†³å‰©ä½™éƒ¨åˆ†
                        if (solve(board)) {
                            return true;
                        }

                        // å¦‚æœå¤±è´¥ï¼Œå›æº¯ï¼ˆå°†æ ¼å­é‡ç½®ä¸º0ï¼‰
                        board[row][col] = 0;
                    }
                }
                // å¦‚æœ1-9éƒ½å°è¯•å¤±è´¥ï¼Œè¿”å›false
                return false;
            }
        }
    }
    // æ‰€æœ‰æ ¼å­éƒ½å·²å¡«å……ï¼Œæ‰¾åˆ°è§£
    return true;
}
```

**å›æº¯ç®—æ³•å›¾è§£**ï¼š

```
å‡è®¾æ£‹ç›˜å¦‚ä¸‹ï¼š
5 3 0 | 0 7 0 | 0 0 0
6 0 0 | 1 9 5 | 0 0 0
0 9 8 | 0 0 0 | 0 6 0
------+-------+------
8 0 0 | 0 6 0 | 0 0 3
4 0 0 | 8 0 3 | 0 0 1
7 0 0 | 0 2 0 | 0 0 6
------+-------+------
0 6 0 | 0 0 0 | 2 8 0
0 0 0 | 4 1 9 | 0 0 5
0 0 0 | 0 8 0 | 0 7 9

1. æ‰¾åˆ°ç¬¬ä¸€ä¸ªç©ºæ ¼å­ (0, 2)
2. å°è¯•å¡«å…¥1ï¼š
   - æ£€æŸ¥æ˜¯å¦åˆæ³•
   - å¦‚æœåˆæ³•ï¼Œå¡«å…¥1ï¼Œé€’å½’å¤„ç†ä¸‹ä¸€ä¸ªç©ºæ ¼å­
   - å¦‚æœåç»­æ— æ³•è§£å†³ï¼Œå›æº¯ï¼Œå°è¯•2
3. å°è¯•å¡«å…¥2ï¼š
   - æ£€æŸ¥æ˜¯å¦åˆæ³•
   - ...
4. é‡å¤ç›´åˆ°æ‰¾åˆ°æ­£ç¡®çš„æ•°å­—æˆ–å°è¯•å®Œ1-9
5. ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªç©ºæ ¼å­
6. å¦‚æœæ‰€æœ‰æ ¼å­éƒ½å¡«æ»¡ï¼Œè¿”å›true
```

**ä¸ºä»€ä¹ˆéœ€è¦å›æº¯ï¼Ÿ**
- è´ªå¿ƒç®—æ³•ä¸è¡Œï¼šåªçœ‹å½“å‰æ ¼å­ï¼Œä¸è€ƒè™‘åç»­å½±å“
- å›æº¯ç®—æ³•ï¼šå°è¯•æ‰€æœ‰å¯èƒ½ï¼Œé‡åˆ°æ­»èƒ¡åŒå°±é€€å›ä¸Šä¸€æ­¥

#### 4. å¡«å……å¯¹è§’çº¿å®«æ ¼

```javascript
function fillBox(board, row, col) {
    let num;
    for (let i = 0; i < 3; i++) {
        for (let j = 0; j < 3; j++) {
            do {
                num = Math.floor(Math.random() * 9) + 1;
            } while (!isSafeInBox(board, row, col, num));

            board[row + i][col + j] = num;
        }
    }
}
```

**ä¸ºä»€ä¹ˆåªå¡«å……å¯¹è§’çº¿çš„ä¸‰ä¸ªå®«æ ¼ï¼Ÿ**

```
æ•°ç‹¬æ£‹ç›˜ï¼š
[0,0] [0,1] [0,2] | [0,3] [0,4] [0,5] | [0,6] [0,7] [0,8]
[1,0] [1,1] [1,2] | [1,3] [1,4] [1,5] | [1,6] [1,7] [1,8]
[2,0] [2,1] [2,2] | [2,3] [2,4] [2,5] | [2,6] [2,7] [2,8]
------+-------+------
[3,0] [3,1] [3,2] | [3,3] [3,4] [3,5] | [3,6] [3,7] [3,8]
[4,0] [4,1] [4,2] | [4,3] [4,4] [4,5] | [4,6] [4,7] [4,8]
[5,0] [5,1] [5,2] | [5,3] [5,4] [5,5] | [5,6] [5,7] [5,8]
------+-------+------
[6,0] [6,1] [6,2] | [6,3] [6,4] [6,5] | [6,6] [6,7] [6,8]
[7,0] [7,1] [7,2] | [7,3] [7,4] [7,5] | [7,6] [7,7] [7,8]
[8,0] [8,1] [8,2] | [8,3] [8,4] [8,5] | [8,6] [8,7] [8,8]

å¯¹è§’çº¿çš„ä¸‰ä¸ªå®«æ ¼ï¼š
1. (0,0) å®«æ ¼ï¼šè¡Œ0-2ï¼Œåˆ—0-2
2. (3,3) å®«æ ¼ï¼šè¡Œ3-5ï¼Œåˆ—3-5
3. (6,6) å®«æ ¼ï¼šè¡Œ6-8ï¼Œåˆ—6-8

è¿™ä¸‰ä¸ªå®«æ ¼äº’ä¸å†²çªï¼š
- ä¸åŒçš„è¡Œ
- ä¸åŒçš„åˆ—
- å¯ä»¥ç‹¬ç«‹éšæœºå¡«å……
```

**å¥½å¤„**ï¼š
- å‡å°‘å›æº¯ç®—æ³•çš„å·¥ä½œé‡
- æé«˜ç”Ÿæˆé€Ÿåº¦
- ä¿è¯éšæœºæ€§

#### 5. å”¯ä¸€è§£éªŒè¯

```javascript
function countSolutions(board) {
    let count = 0;

    function solveCount(b) {
        for (let row = 0; row < 9; row++) {
            for (let col = 0; col < 9; col++) {
                if (b[row][col] === 0) {
                    for (let num = 1; num <= 9; num++) {
                        if (isValid(b, row, col, num)) {
                            b[row][col] = num;
                            solveCount(b);
                            b[row][col] = 0;

                            // æå‰ç»ˆæ­¢ä¼˜åŒ–
                            if (count > 1) {
                                return;
                            }
                        }
                    }
                    return;
                }
            }
        }
        count++;
    }

    solveCount(board);
    return count;
}
```

**ä¼˜åŒ–æŠ€å·§**ï¼š
- åªè¦å‘ç°è§£çš„æ•°é‡>1ï¼Œç«‹å³åœæ­¢
- ä¸éœ€è¦è®¡ç®—æ‰€æœ‰è§£
- æ˜¾è‘—æé«˜æ€§èƒ½

**ä¸ºä»€ä¹ˆéœ€è¦éªŒè¯å”¯ä¸€è§£ï¼Ÿ**

```
ä¸å”¯ä¸€çš„ä¾‹å­ï¼š
8 0 0 | 0 0 0 | 0 0 0
0 0 0 | 0 0 0 | 0 0 0
0 0 0 | 0 0 0 | 0 0 0
------+-------+------
...

å¦‚æœæŒ–æ‰å¤ªå¤šæ•°å­—ï¼Œå¯èƒ½å¯¼è‡´å¤šç§å¡«æ³•ï¼š
è§£1ï¼š8åœ¨(0,0)ï¼Œå…¶ä»–ä½ç½®å¡«æŸä¸ªæ–¹æ¡ˆ
è§£2ï¼š8åœ¨(0,0)ï¼Œå…¶ä»–ä½ç½®å¡«å¦ä¸€ä¸ªæ–¹æ¡ˆ

ç©å®¶æ— æ³•ç¡®å®šå“ªä¸ªæ˜¯"æ­£ç¡®"ç­”æ¡ˆ
```

### game.js è¯¦è§£

#### 1. æ¸¸æˆçŠ¶æ€ç®¡ç†

```javascript
let gameState = {
    puzzle: [],        // åŸå§‹è°œé¢˜
    playerBoard: [],  // ç©å®¶å½“å‰æ£‹ç›˜
    solution: [],     // å®Œæ•´è§£ç­”
    // ...
};
```

**ä¸ºä»€ä¹ˆéœ€è¦ä¸‰ä¸ªæ£‹ç›˜æ•°ç»„ï¼Ÿ**

- `puzzle`ï¼šä¿å­˜é¢˜ç›®ç»™å®šçš„æ•°å­—
  - ç”¨äºåˆ¤æ–­å“ªäº›æ ¼å­å¯ä»¥ä¿®æ”¹
  - `isFixedCell()` æ£€æŸ¥ï¼š`puzzle[row][col] !== 0`

- `playerBoard`ï¼šç©å®¶å½“å‰çš„å¡«å…¥
  - ç”¨äºæ˜¾ç¤ºå’Œæ“ä½œ
  - å¯ä»¥ä¿®æ”¹ï¼ˆé™¤å›ºå®šæ ¼å­å¤–ï¼‰

- `solution`ï¼šå®Œæ•´çš„æ­£ç¡®ç­”æ¡ˆ
  - ç”¨äºéªŒè¯ç©å®¶çš„å¡«å…¥
  - ç”¨äºæç¤ºåŠŸèƒ½

**ç¤ºä¾‹**ï¼š
```
puzzle:
5 3 0 | 0 7 0 | 0 0 0
6 0 0 | 1 9 5 | 0 0 0
...

playerBoard:
5 3 4 | 6 7 8 | 9 1 2
6 7 2 | 1 9 5 | 3 4 8
...

solution:
5 3 4 | 6 7 8 | 9 1 2
6 7 2 | 1 9 5 | 3 4 8
...

å¡«å…¥æ•°å­—æ—¶ï¼š
- å¦‚æœ puzzle[row][col] !== 0ï¼Œä¸å…è®¸ä¿®æ”¹
- ä¿®æ”¹ playerBoard[row][col]
- æ£€æŸ¥ playerBoard == solution
```

#### 2. ç¬”è®°æ¨¡å¼å®ç°

```javascript
// åˆå§‹åŒ–ç¬”è®°æ•°ç»„
notes: Array(9).fill(null).map(() => Array(9).fill(null).map(() => []))
```

**æ•°æ®ç»“æ„**ï¼š
- äºŒç»´æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯æ•°å­—æ•°ç»„
- `notes[row][col]` = [1, 3, 5] è¡¨ç¤ºè¯¥æ ¼å­æ ‡è®°äº†å€™é€‰æ•°å­—1ã€3ã€5

**å¡«å…¥ç¬”è®°**ï¼š
```javascript
if (gameState.noteMode) {
    const noteIndex = gameState.notes[row][col].indexOf(num);
    if (noteIndex === -1) {
        // æ·»åŠ ç¬”è®°
        gameState.notes[row][col].push(num);
    } else {
        // ç§»é™¤ç¬”è®°
        gameState.notes[row][col].splice(noteIndex, 1);
    }
}
```

**æ˜¾ç¤ºç¬”è®°**ï¼š
```javascript
// åœ¨æ ¼å­å†…åˆ›å»º3x3å°ç½‘æ ¼
const noteContainer = document.createElement('div');
noteContainer.className = 'note-numbers';

for (let i = 1; i <= 9; i++) {
    const noteNum = document.createElement('span');
    noteNum.className = 'note-number';
    noteNum.textContent = notes.includes(i) ? i : '';
    noteContainer.appendChild(noteNum);
}
```

**è§†è§‰æ•ˆæœ**ï¼š
```
æ™®é€šæ¨¡å¼ï¼š[ 5 ]
ç¬”è®°æ¨¡å¼ï¼š
[1 2 3]
[4   6]
[7 8 9]
```

#### 3. æ’¤é”€/é‡åšå®ç°

```javascript
undoStack: [
    { type: 'fill', row: 0, col: 0, oldValue: 0, newValue: 5 },
    { type: 'delete', row: 1, col: 1, oldValue: 3 },
    // ...
]
```

**ä¿å­˜æ“ä½œ**ï¼š
```javascript
function fillNumber(num) {
    gameState.undoStack.push({
        type: 'fill',
        row: row,
        col: col,
        oldValue: gameState.playerBoard[row][col],
        newValue: num
    });

    gameState.redoStack = []; // æ¸…ç©ºé‡åšæ ˆ
    gameState.playerBoard[row][col] = num;
}
```

**æ’¤é”€**ï¼š
```javascript
function undo() {
    const action = gameState.undoStack.pop();
    gameState.redoStack.push(action);

    if (action.type === 'fill') {
        // æ¢å¤æ—§å€¼
        gameState.playerBoard[action.row][action.col] = action.oldValue;
    } else if (action.type === 'delete') {
        // æ¢å¤è¢«åˆ é™¤çš„å€¼
        gameState.playerBoard[action.row][action.col] = action.oldValue;
    }
}
```

**ä¸ºä»€ä¹ˆæ–°æ“ä½œè¦æ¸…ç©ºé‡åšæ ˆï¼Ÿ**

```
æ“ä½œå†å²ï¼š
å¡«å…¥5 â†’ æ’¤é”€ â†’ é‡åš â†’ å¡«å…¥7 â†’ ä¸èƒ½é‡åšå¡«å…¥5

å› ä¸ºå¡«å…¥7æ˜¯ä¸€ä¸ªæ–°çš„åˆ†æ”¯
```

### style.css è¯¦è§£

#### 1. CSSå˜é‡

```css
:root {
    --bg-primary: #f5f7fa;
    --text-primary: #2c3e50;
    --btn-primary: #2196f3;
    /* ... */
}

body.dark-mode {
    --bg-primary: #1a1a2e;
    --text-primary: #e0e0e0;
    /* ... */
}
```

**å¥½å¤„**ï¼š
- é›†ä¸­ç®¡ç†é¢œè‰²
- æ·±è‰²æ¨¡å¼åªéœ€è¦†ç›–å˜é‡
- æ˜“äºç»´æŠ¤å’Œä¿®æ”¹ä¸»é¢˜

#### 2. æ•°ç‹¬æ£‹ç›˜å¸ƒå±€

```css
.sudoku-board {
    display: grid;
    grid-template-columns: repeat(9, 1fr);
    gap: 1px;
    background: var(--border-dark);
}
```

**è§£é‡Š**ï¼š
- `grid-template-columns: repeat(9, 1fr)` - 9åˆ—ï¼Œæ¯åˆ—ç­‰å®½
- `gap: 1px` - æ ¼å­ä¹‹é—´1pxé—´éš™ï¼ˆå½¢æˆè¾¹æ¡†æ•ˆæœï¼‰
- `background` - é—´éš™æ˜¾ç¤ºçš„é¢œè‰²ï¼ˆè¾¹æ¡†é¢œè‰²ï¼‰

**3x3å®«æ ¼ç²—è¾¹æ¡†**ï¼š
```css
.cell:nth-child(3n) {
    border-right: 2px solid var(--border-dark);
}

.cell:nth-child(n+19):nth-child(-n+27),
.cell:nth-child(n+46):nth-child(-n+54) {
    border-bottom: 2px solid var(--border-dark);
}
```

**nth-childè§£é‡Š**ï¼š
- `3n` - æ¯3ä¸ªæ ¼å­ï¼ˆç¬¬3ã€6ã€9...ï¼‰
- `n+19` - ç¬¬19ä¸ªåŠä»¥å
- `-n+27` - ç¬¬27ä¸ªåŠä»¥å‰
- `n+19:-n+27` - ç¬¬19åˆ°27ä¸ªï¼ˆç¬¬3è¡Œçš„9ä¸ªæ ¼å­ï¼‰

#### 3. å“åº”å¼è®¾è®¡

```css
/* å¹³æ¿ */
@media (max-width: 768px) {
    .cell {
        font-size: 1.2rem;
    }
}

/* æ‰‹æœº */
@media (max-width: 480px) {
    .cell {
        font-size: 1rem;
    }
}
```

**åª’ä½“æŸ¥è¯¢**ï¼š
- æ ¹æ®å±å¹•å®½åº¦è°ƒæ•´æ ·å¼
- ç¡®ä¿åœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½æ­£å¸¸æ˜¾ç¤º

#### 4. åŠ¨ç”»æ•ˆæœ

```css
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

.cell.error {
    animation: shake 0.5s;
}
```

**åŠ¨ç”»åŸç†**ï¼š
- å®šä¹‰å…³é”®å¸§ï¼ˆkeyframesï¼‰
- ä½¿ç”¨ `animation` å±æ€§åº”ç”¨
- å¯ä»¥æ§åˆ¶æ—¶é•¿ã€å»¶è¿Ÿã€é‡å¤ç­‰

---

## ğŸš€ æ‰©å±•å»ºè®®

### åŠŸèƒ½æ‰©å±•

1. **éŸ³æ•ˆç³»ç»Ÿ**
   - å¡«æ•°å­—éŸ³æ•ˆ
   - èƒœåˆ©éŸ³æ•ˆ
   - é”™è¯¯æç¤ºéŸ³
   - èƒŒæ™¯éŸ³ä¹

2. **å¤šè¯­è¨€æ”¯æŒ**
   - è‹±æ–‡ã€æ—¥æ–‡ç­‰
   - ä½¿ç”¨ i18n åº“æˆ–è‡ªå®šä¹‰å®ç°

3. **ç¤¾äº¤åŠŸèƒ½**
   - åˆ†äº«æˆç»©åˆ°ç¤¾äº¤åª’ä½“
   - æŒ‘æˆ˜å¥½å‹
   - å…¨çƒæ’è¡Œæ¦œ

4. **æ›´å¤šéš¾åº¦**
   - æç®€æ¨¡å¼ï¼ˆåªä¿ç•™17ä¸ªæ•°å­—ï¼‰
   - è‡ªå®šä¹‰éš¾åº¦

5. **å…¶ä»–æ•°ç‹¬å˜ä½“**
   - 6x6 æ•°ç‹¬ï¼ˆé€‚åˆå„¿ç«¥ï¼‰
   - 12x12 æ•°ç‹¬
   - å¯¹è§’çº¿æ•°ç‹¬
   - æ€æ‰‹æ•°ç‹¬

### æŠ€æœ¯ä¼˜åŒ–

1. **æ€§èƒ½ä¼˜åŒ–**
   - ä½¿ç”¨ Web Worker å¤„ç†æ•°ç‹¬ç”Ÿæˆ
   - è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¦‚æœæ£‹ç›˜æ›´å¤§ï¼‰
   - æ‡’åŠ è½½å›¾ç‰‡/å›¾æ ‡

2. **PWA æ”¯æŒ**
   - æ·»åŠ  Service Worker
   - ç¦»çº¿å¯ç”¨
   - æ·»åŠ åˆ°ä¸»å±å¹•

3. **æ•°æ®å¯è§†åŒ–**
   - ç”¨æ—¶ç»Ÿè®¡å›¾è¡¨
   - è¿›åº¦æ›²çº¿
   - èƒ½åŠ›é›·è¾¾å›¾

4. **AI è¾…åŠ©**
   - æ™ºèƒ½æç¤ºï¼ˆä¸åªå¡«ä¸€ä¸ªæ•°å­—ï¼‰
   - è§£é¢˜æŠ€å·§æ•™å­¦
   - é”™è¯¯åˆ†æ

### ä»£ç ä¼˜åŒ–

1. **TypeScript é‡æ„**
   - æ·»åŠ ç±»å‹æ£€æŸ¥
   - æ›´å¥½çš„IDEæ”¯æŒ

2. **å•å…ƒæµ‹è¯•**
   - ä½¿ç”¨ Jest æµ‹è¯•æ ¸å¿ƒç®—æ³•
   - æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°80%+

3. **æ¨¡å—åŒ–**
   - ä½¿ç”¨ ES6 æ¨¡å—
   - æŒ‰éœ€åŠ è½½

---

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ç”Ÿæˆçš„æ•°ç‹¬å¾ˆéš¾ï¼Ÿ

**A**: æ•°ç‹¬çš„éš¾åº¦ä¸ä»…å–å†³äºæŒ–æ‰å¤šå°‘æ•°å­—ï¼Œè¿˜å–å†³äºï¼š
- éœ€è¦ä½¿ç”¨çš„è§£é¢˜æŠ€å·§
- é€»è¾‘æ¨ç†çš„æ·±åº¦
- æ˜¯å¦éœ€è¦çŒœæµ‹

å½“å‰çš„éš¾åº¦æ§åˆ¶æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š
- åˆ†æè§£é¢˜éœ€è¦çš„æŠ€å·§çº§åˆ«
- è¯„ä¼°æ¨ç†æ­¥éª¤çš„å¤æ‚åº¦
- åªç”Ÿæˆç¬¦åˆéš¾åº¦é¢„æœŸçš„æ•°ç‹¬

### Q2: å¦‚ä½•åœ¨æ‰‹æœºä¸Šè·å¾—æ›´å¥½çš„ä½“éªŒï¼Ÿ

**A**:
1. æ·»åŠ åˆ°ä¸»å±å¹•ï¼ˆPWAï¼‰
2. æ¨ªå±æ“ä½œï¼ˆæ ¼å­æ›´å¤§ï¼‰
3. ä½¿ç”¨æ•°å­—æŒ‰é’®è€Œä¸æ˜¯é”®ç›˜

### Q3: localStorage æœ‰å®¹é‡é™åˆ¶å—ï¼Ÿ

**A**: æ˜¯çš„ï¼Œé€šå¸¸é™åˆ¶åœ¨5-10MBã€‚å¯¹äºè¿™ä¸ªé¡¹ç›®ï¼š
- æ¯ä¸ªä¿å­˜çš„æ¸¸æˆçº¦1KB
- å†å²è®°å½•50æ¡çº¦5KB
- æ€»è®¡è¿œä½äºé™åˆ¶

å¦‚æœéœ€è¦å­˜å‚¨æ›´å¤šæ•°æ®ï¼Œå¯ä»¥è€ƒè™‘ï¼š
- IndexedDBï¼ˆæ›´å¤§å®¹é‡ï¼‰
- å‹ç¼©æ•°æ®
- å®šæœŸæ¸…ç†æ—§æ•°æ®

### Q4: å¦‚ä½•é˜²æ­¢ç©å®¶ä½œå¼Šï¼ˆæŸ¥çœ‹æºä»£ç ï¼‰ï¼Ÿ

**A**: çº¯å‰ç«¯åº”ç”¨æ— æ³•å®Œå…¨é˜²æ­¢ï¼Œä½†å¯ä»¥ï¼š
- æ··æ·†JavaScriptä»£ç 
- ä¸åœ¨å…¨å±€æš´éœ²ç­”æ¡ˆ
- ä½¿ç”¨æœåŠ¡å™¨éªŒè¯

å¯¹äºå•æœºæ¸¸æˆï¼Œä½œå¼Šåªå½±å“è‡ªå·±ï¼Œä¸éœ€è¦è¿‡åº¦é˜²å¾¡ã€‚

### Q5: å¯ä»¥ç¦»çº¿ä½¿ç”¨å—ï¼Ÿ

**A**: ç›®å‰éœ€è¦ç½‘ç»œè¿æ¥åŠ è½½ Font Awesomeã€‚å¯ä»¥ï¼š
1. ä¸‹è½½å›¾æ ‡åˆ°æœ¬åœ°
2. ä½¿ç”¨ SVG å›¾æ ‡ä»£æ›¿
3. æ·»åŠ  PWA æ”¯æŒ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ã€‚

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- GitHub Issues
- Email: your-email@example.com

---

**ç¥ä½ åœ¨ Brain9x çš„ä¸–ç•Œä¸­äº«å—æ€è€ƒçš„ä¹è¶£ï¼** ğŸ§ âœ¨
